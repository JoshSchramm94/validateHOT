% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/createHOT.R
\name{createHOT}
\alias{createHOT}
\title{Preparing Holdout task and creating utilities}
\usage{
createHOT(
  data,
  id,
  None = NULL,
  prod,
  prod.levels,
  interpolate.levels = NULL,
  piece.p = NULL,
  lin.p = NULL,
  coding = NULL,
  method = c("ACBC" | "CBC" | "MaxDiff"),
  varskeep = NULL,
  choice
)
}
\arguments{
\item{data}{a data frame}

\item{id}{the column index of \code{id} in \code{data}}

\item{None}{the column index of \code{None} in \code{data}; if of \code{None} is not included, leave empty}

\item{prod}{number of options in the Holdout task without the \code{None} option, must be numeric}

\item{prod.levels}{a list to define the attribute levels of the options (\code{prod})}

\item{interpolate.levels}{a list of the levels of the variables that should be interpolated. These needs to be the same as provided to Sawtooth Software. Please make sure to provide the whole list. Only needs to be specified for the variables that are coded as 1 (linear) or 2 (piecewise)}

\item{piece.p}{a list of the column indexes of the lower level and the upper level that should be used for interpolating}

\item{lin.p}{vector of the column indexes of the linear variables}

\item{coding}{vector of the coding of each attribute, 0 = part-worth coding, 1 = linear coding, 2 = piecewise coding; please make sure to code linear price of ACBC as piecewise since you have two values to interpolate}

\item{method}{specify the \code{method} your study; needs to be one of the following: MaxDiff, CBC, or ACBC}

\item{varskeep}{variables that should be kept in the data frame, use column index}

\item{choice}{actual choice in the Holdout task}
}
\value{
a data frame
}
\description{
Function used to create utilities for validation task.
}
\examples{
library(ValiDatHOT)

# MaxDiff example
data("MaxDiff")
createHOT(
  data = MaxDiff,
  id = 1,
  None = 19,
  prod = 7,
  prod.levels = list(3, 10, 11, 15, 16, 17, 18),
  method = "MaxDiff",
  choice = 20
)

# CBC example
data("CBC")
createHOT(
  data = CBC,
  id = 1,
  None = 21,
  prod = 3,
  prod.levels = list(c(4, 9, 19), c(8, 12, 17), c(5, 10, 17)),
  coding = c(0, 0, 0),
  method = "CBC",
  choice = 20
)

# CBC example with linear coding
data("CBC_lin")
createHOT(
  data = CBC_lin,
  id = 1,
  None = 15,
  prod = 3,
  prod.levels = list(c(4, 9, 60), c(8, 12, 40), c(5, 10, 45)),
  interpolate.levels = list(c(10, 20, 30, 40, 50, 60, 70)),
  lin.p = 14,
  coding = c(0, 0, 1),
  method = "CBC",
  varskeep = 17,
  choice = 16
)

# ACBC example with linear price
data("ACBC")
prod1 <- c(5, 11, 15, 17, 21, 25, 32, 34, 15.99)
prod2 <- c(6, 9, 15, 17, 23, 27, 31, 34, 12.99)
prod3 <- c(8, 12, 16, 19, 23, 24, 28, 34, 12.99)
prod4 <- c(7, 12, 14, 18, 22, 24, 28, 33, 9.99)
prod5 <- c(4, 10, 13, 17, 23, 27, 28, 34, 7.99)
prod6 <- c(5, 9, 14, 17, 23, 27, 29, 33, 9.99)

createHOT(
  data = ACBC,
  id = 1,
  None = 37,
  prod = 6,
  prod.levels = list(prod1, prod2, prod3, prod4, prod5, prod6),
  interpolate.levels = c(2.093, 27.287),
  piece.p = list(c(35,36)),
  coding = c(0, 0, 0, 0, 0, 0, 0, 0, 2),
  method = "ACBC",
  choice = 38
)

data("ACBC_interpolate")
prod1 <- c(5, 5, 12, 14, 18, 22, 29, 31, 15.99)
prod2 <- c(6, 4, 12, 14, 20, 24, 28, 31, 12.99)
prod3 <- c(8, 6, 13, 16, 20, 21, 25, 31, 12.99)
prod4 <- c(7, 5, 11, 15, 19, 21, 25, 30, 9.99)
prod5 <- c(4, 9, 10, 14, 20, 24, 25, 31, 7.99)
prod6 <- c(5, 8, 11, 14, 20, 24, 26, 30, 9.99)

createHOT(
  data = ACBC_interpolate,
  id = 1,
  None = 39,
  prod = 6,
  prod.levels = list(prod1, prod2, prod3, prod4, prod5, prod6),
  interpolate.levels = list(c(3, 5, 8, 10), c(1.99, 6.99, 9.99, 10.99, 12.99, 17.99, 25.99)),
  piece.p = list(c(36,37), c(35, 36), c(35, 36), c(33,34), c(33, 34), c(33, 34)),
  lin.p = 9,
  coding = c(0, 1, 0, 0, 0, 0, 0, 0, 2),
  method = "ACBC",
  choice = 40
  )




}
